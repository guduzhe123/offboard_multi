<launch>
<!--    <include file="$(find px4)/launch/mavros_3usvs_sitl.launch"/>-->
<!--    <include file="$(find px4)/launch/multi_umv_mavros_sitl.launch"/>-->

    <arg name="formation_distance" value="15" />
    <arg name="point_num" value="6" />
    <arg name="danger_distance" value="1" />
    <arg name="is_motion_plan" value="false" />
    <arg name="is_usv" value="true" />
    <arg name="is_uav" value="false" />
    <arg name="is_sim" value="true" />

    <include file="$(find offboard)/launch/kino_replan.launch"/>

    <node pkg = "offboard" name = "offboard" type="3usv" output="screen">
        <param name="formation_distance" value="$(arg formation_distance)" />
        <param name="waypoint_num" value="$(arg point_num)" type="int"/>
        <param name="danger_distance" value="$(arg danger_distance)" type="double"/>
        <param name="is_motion_plan" value="$(arg is_motion_plan)" type="bool"/>
        <param name="is_usv" value="$(arg is_usv)" type="bool"/>
        <param name="is_uav" value="$(arg is_uav)" type="bool"/>
        <param name="is_sim" value="$(arg is_sim)" type="bool"/>
    </node>

    <node pkg = "offboard" name = "usv1" type="pclPoints" output="screen">
        <param name="is_sim" value="$(arg is_sim)" type="bool"/>
    </node>

    <node pkg = "offboard" name = "send_target" type="send_target" output="screen"></node>
    <include file="$(find offboard)/launch/rosbag_log.launch"/>
    <include file="$(find offboard)/launch/rviz.launch"/>
</launch>